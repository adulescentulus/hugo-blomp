{{ if isset .Params "author" }}
    {{ $author := index .Site.Data.authors .Params.author }}
    {{ .Page.Scratch.Add "author" $author }}
{{ else }}
    {{ $author := index .Site.Data.authors "groll" }}
    {{ .Page.Scratch.Add "author" $author }}
{{ end }}
<!-- {{ partial "header.html" (dict "context" . "showmap" 1) }} -->
{{ partial "header.html" . }}
{{ partial "page-header.html" . }}

<div class="clearfix" id="content">
    <div class="sm-col sm-col-12 md-col-8 px2 mx-auto">


    <!-- Post Content -->
    <article>
		{{ replace .Content "<table>" "<table class='table table-hover'>" | replaceRE "<img src=\"/img/([^\"]+[.].*)\" alt=\"([^\"]+)\" title=\"([^\"]+)\" /></p>" "<img src=\"https://imgs.networkchallenge.de/800x/$1\" alt=\"$2\" title=\"$3\" srcset=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" data-srcset=\"https://imgs.networkchallenge.de/800x/$1 800w, https://imgs.networkchallenge.de/400x/$1 400w, https://imgs.networkchallenge.de/1600x/$1 1600w, https://imgs.networkchallenge.de/2100x/$1 2100w\" data-sizes=\"auto\" class=\"gallery lazyload\" />" | replaceRE "<img src=\"/img/([^\"]+[.].*)\" alt=\"([^\"]+)\" /></p>" "<img src=\"https://imgs.networkchallenge.de/800x/$1\" alt=\"$2\" title=\"$2\" srcset=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" data-srcset=\"https://imgs.networkchallenge.de/800x/$1 800w, https://imgs.networkchallenge.de/400x/$1 400w, https://imgs.networkchallenge.de/1600x/$1 1600w, https://imgs.networkchallenge.de/2100x/$1 2100w\" data-sizes=\"auto\" class=\"gallery lazyload\" />" | markdownify }}
    </article>
    </div>
    <div class="sm-col sm-col-12 md-col-3 px2 mx-auto">
        <div class="clearfix">
            <div class="sm-col-12">
              <div class="widget">

                <div class="row author-head">
                    <div class="col-lg-12 col-xs-12">
                      <a name="author">Erstellt von</a>
                    </div>
                </div>
                <div class="row author">
                  
                  <div class="col-lg-12 col-xs-3">
                    <div class="avatar">
                        <amp-img src="https://imgs.networkchallenge.de/200x/avatar/{{ (.Page.Scratch.Get "author").avatar }}" 
                            layout="responsive" width="200"
                            height="200" alt="author"
                            srcset="https://imgs.networkchallenge.de/100x/avatar/{{ (.Page.Scratch.Get "author").avatar }} 100w, https://imgs.networkchallenge.de/200x/avatar/{{ (.Page.Scratch.Get "author").avatar }} 200w, https://imgs.networkchallenge.de/400x/avatar/{{ (.Page.Scratch.Get "author").avatar }} 400w">
                        </amp-img>
                      <p>{{ (.Page.Scratch.Get "author").name }}</p>
                    </div>
                  </div>
                  <div class="col-lg-12 col-xs-9">
                    <div class="row">
                      <div class="col-xs-12">
                        <p>
                          {{ (.Page.Scratch.Get "author").intro }}
                        </p>
                      </div>
                    </div>
                    {{ if isset (.Page.Scratch.Get "author") "social" }}
                    <div class="row author-social">
                        <div class="col-xs-12">
                            {{ range (.Page.Scratch.Get "author").social }}
                              <a href="{{ .url }}"><span class="fa-stack fa-lg"><i class="fa fa-square fa-stack-2x"></i><i class="fa fa-{{ .title }} fa-stack-1x fa-inverse"></i></span></a>
                            {{ end }}
                        </div>
                      </div>
                      {{ end }}
                  </div>
                </div>
              </div>
           </div> 
          </div>
          
      </div>
      <div class="sm-col sm-col-12 md-col-8 px2 mx-auto">
        {{ partial "comments.html" .}}
      </div>
                  
    </div>
            
{{ partial "footer.html" .}}